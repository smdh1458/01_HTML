<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원가입</title>
    <link rel="stylesheet" href="../css/15_정규표현식_회원가입.css" />
  </head>
  <body>
    <div class="container">
      <h2>행복나라 회원가입</h2>
      <div class="input-group">
        <label>아이디 입력</label>
        <input type="text" id="idInput" />
        <p id="idResult"></p>
        <label>비밀번호 입력</label>
        <input type="password" id="passwordInput" />
        <p id="pwResult"></p>
        <label>비밀번호 확인</label>
        <input type="password" id="passwordCheck" />
        <p id="checkPw"></p>
        <label>이름</label>
        <input type="text" id="nameInput" />
        <p id="nameResult"></p>
        <label>성별</label>
        <input type="radio" name="gender" id="gender" required checked /><span>
          남</span
        >
        <br />
        <input type="radio" name="gender" id="gender" /><span> 여</span>
      </div>
      <button onclick="확인하기()">확인하기</button>
    </div>
    <script>
      function 확인하기() {
        //아이디
        const idInput = document.getElementById("idInput").value;
        const idRegex = /^[a-zA-Z0-9_-]{6,16}$/;
        if (idRegex.test(idInput)) {
          document.getElementById("idResult").innerText =
            "유효한 아이디입니다.";
          document.getElementById("idResult").className = "success-msg";
        } else {
          document.getElementById("idResult").innerText =
            "아이디는 영어 대/소문자 + 숫자 + 특수문자(-,_) 포함 6~16글자여야 합니다,";
          document.getElementById("idResult").className = "error-msg ";
        }

        //비밀번호
        const passwordInput = document.getElementById("passwordInput").value;
        const pwRegex =
          /^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,20}$/;
        if (pwRegex.test(passwordInput)) {
          document.getElementById("pwResult").innerText =
            "유효한 비밀번호 입니다.";
          document.getElementById("pwResult").className = "success-msg";
        } else {
          document.getElementById("pwResult").innerText =
            "비밀번호는 영어 대/소문자 + 숫자 + 특수문자(!@#$%^&*) 포함 8~20글자여야 합니다.";
          document.getElementById("pwResult").className = "error-msg";
        }

        //비밀번호 확인
        const checkPw = document.getElementById("passwordCheck").value;
        if (checkPw.trim() === passwordInput.trim()) {
          document.getElementById("checkPw").innerText =
            "비밀번호가 일치합니다.";
          document.getElementById("checkPw").className = "success-msg";
        } else {
          document.getElementById("checkPw").innerText =
            "비밀번호가 일치하지 않습니다.";
          document.getElementById("checkPw").className = "error-msg";
        }

        //이름 확인
        const nameInput = document.getElementById("nameInput").value;
        const nameRegex = /^[가-힣]{2,5}$/;
        if (nameRegex.test(nameInput)) {
          document.getElementById("nameResult").innerText =
            "이름이 확인되었습니다.";
          document.getElementById("nameResult").className = "success-msg";
        } else {
          document.getElementById("nameResult").innerText =
            "이름은 한글 2-15자여야 합니다.";
          document.getElementById("nameResult").className = "error-msg";
        }

        //성별 확인
      }
    </script>
  </body>
</html>
