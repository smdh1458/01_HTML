<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>기본 이벤트 제거</title>
  </head>
  <body>
    <h1>기본 이벤트 제거</h1>
    <pre>
        a 태그의 기본 이벤트
        :클릭시 href 속성에 작성된 url로 이동

        for태그의 기본 이벤트
        :form 태그 내부에서 submit 동작 발생 시
        action 속성에 작성된 url로
        form 태그 내부 input 값들을 제출
    </pre>

    <!-- 방법1) e.preventDefault() 사용
    e.preventDefault()
    e = event의 약자
    prevent = 막다
    Default = 기본설정
    html의 순수 이벤트의 기본 동작을 자바스크립트에서 막는 메서드 
    -->
    <form action="결과.html">
      이름 : <input type="text" id="id-name" name="name-name" /><br />
      나이 : <input type="text" id="id-age" name="name-age" /><br />
      이메일 : <input type="text" id="id-email" name="name-email" /><br />
      <button onclick="제출(event)">등록하기</button>
    </form>

    <script>
      /*
        <button onclick="제출(event)">등록하기</button>
        사용자가 버튼이라는 행동을 감지했을 때 작동하는 설정

        제출(매개변수) 매개변수에 어떤 종작이 들어왔는지 담는 변수명이기 때문에 굳이 위에 있는 이름과 맞춰서 작성할 의무X
        function 제출(event){
           js기능 설정
        }
        */
      function 제출(e) {
        //e가 아닌 event로 써도 됨
        e.preventDefault(); //button 태그 안에 기본으로 작성된 제출 기능 동작 정지
        const name = document.getElementById("id-name").value;
        const age = document.getElementById("id-age").value;
        const email = document.getElementById("id-email").value;

        //정규식 패턴 설정
        const nameRegExp = /^[가-힣a-zA-Z]{2,32}$/;
        const ageRegExp = /^\d{1,3}$/;
        const emailRegExp = /^[a-zA-Z0-9.-_]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$/;

        //유효성 검사
        //1.이름
        if (!nameRegExp.test(name)) {
          //console.log("정규식에 부합합니다.");
          alert("이름이 정규식에 부합하지 않습니다.");
          return false; //회원가입에 부합하지 않은 조건을 만날 때 돌려보내기
        }
        //2.나이
        if (!ageRegExp.test(age)) {
          alert("나이가 정규식에 부합하지 않습니다.");
          return false; //돌려보내
        } else {
          if (age >= 106) {
            alert("존재할 수 없는 나이입니다.");
            return false;
          }
        }
        //3.이메일
        if (!emailRegExp.test(email)) {
          alert("이메일이 정규식에 부합하지 않습니다.");
          return false; //돌아가
        }
        alert("회원가입이 완료되었습니다.");
      }
    </script>
  </body>
</html>
